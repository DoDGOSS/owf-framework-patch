label.switch {
    display: inline-block;
    @include ie7-inline-block();

    input[type="checkbox"] {
        position: absolute;
        @include opacity(0);
    }

    input[type="checkbox"]:focus {
        outline: none;
    }

    input[type="checkbox"][disabled] + .track {
        cursor: not-allowed;
    }
}

/* track */
input[type="checkbox"].ios + .track {
    vertical-align: middle;
    width: $switch-width-base;
    height: $switch-height-base;
    border: 1px solid #686868;
    border-radius: 999px;
    background-color: #bbb;
    box-shadow: inset 0 0 0 0px rgba(0,0,0,0.4);

    -webkit-transition-duration: .4s;
    -webkit-transition-property: background-color, box-shadow;

    -webkit-box-sizing: content-box;
    -moz-box-sizing: content-box;
    box-sizing: content-box;
}

input[type="checkbox"].ios:checked + .track {
    @include ios-checked-track($brand-primary, $switch-height-large);
}

// for IE8...it needs separately
input[type="checkbox"].ios.checked + .track {
    @include ios-checked-track($brand-primary, $switch-height-large);
}

/* knob */
input[type="checkbox"].ios + .track > .knob {
    float: left;
    width: $switch-height-base - 2;
    height: $switch-height-base - 2;
    border-radius: inherit;
    background: #ffffff;
    box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.3), 0px 0px 0px 1px rgba(0, 0, 0, 0.4);
    pointer-events: none;
    margin-top: 1px;
    margin-left: 1px;
    -webkit-transition-timing-function: cubic-bezier(.54,1.85,.5,1);
    -webkit-transition-duration: 0.4s;
    -webkit-transition-property: transform, background-color, box-shadow;
    -moz-transition-timing-function: cubic-bezier(.54,1.85,.5,1);
    -moz-transition-duration: 0.4s;
    -moz-transition-property: transform, background-color;
}

input[type="checkbox"].ios:checked + .track > .knob {
    @include ios-checked-knob()
}

// for IE8...see comment above
input[type="checkbox"].ios.checked + .track > .knob {
    @include ios-checked-knob()
}

.csstransforms3d {
    input[type="checkbox"].ios:checked + .track > .knob {
        float: left;
        -webkit-transform: translate3d($switch-width-base - ($switch-height-base - 2) - 2, 0, 0);
        -moz-transform: translate3d($switch-width-base - ($switch-height-base - 2) - 2, 0, 0);
        transform: translate3d($switch-width-base - ($switch-height-base - 2) - 2, 0, 0);
    }
}


// large variant
// -------------------------
input[type="checkbox"].large.ios + .track {
    width: $switch-width-large;
    height: $switch-height-large;
}

input[type="checkbox"].large.ios + .track > .knob {
    width: $switch-height-large - 2;
    height: $switch-height-large - 2;
}
.csstransforms3d {
    input[type="checkbox"].large.ios:checked + .track > .knob {
        -webkit-transform: translate3d($switch-width-large - ($switch-height-large - 2) - 2, 0, 0);
        -moz-transform: translate3d($switch-width-large - ($switch-height-large - 2) - 2, 0, 0);
        transform: translate3d($switch-width-large - ($switch-height-large - 2) - 2, 0, 0);
    }
}

// small variant
// -------------------------
input[type="checkbox"].small.ios + .track {
    width: $switch-width-small;
    height: $switch-height-small;
}

input[type="checkbox"].small.ios + .track > .knob {
    width: $switch-height-small - 2;
    height: $switch-height-small - 2;
}

.csstransforms3d {
    input[type="checkbox"].small.ios:checked + .track > .knob {
        -webkit-transform: translate3d($switch-width-small - ($switch-height-small - 2) - 2, 0, 0);
        -moz-transform: translate3d($switch-width-small - ($switch-height-small - 2) - 2, 0, 0);
        transform: translate3d($switch-width-small - ($switch-height-small - 2) - 2, 0, 0);
    }
}

// Set the backgrounds
// -------------------------
input[type="checkbox"].ios.brand-success:checked + .track {
    @include ios-checked-track($brand-success, $switch-height-large);
}
input[type="checkbox"].ios.brand-success.checked + .track {
    @include ios-checked-track($brand-success, $switch-height-large);
}

input[type="checkbox"].ios.brand-warning:checked + .track {
    @include ios-checked-track($brand-warning, $switch-height-large);
}
input[type="checkbox"].ios.brand-warning.checked + .track {
    @include ios-checked-track($brand-warning, $switch-height-large);
}

input[type="checkbox"].ios.brand-danger:checked + .track {
    @include ios-checked-track($brand-danger, $switch-height-large);
}
input[type="checkbox"].ios.brand-danger.checked + .track {
    @include ios-checked-track($brand-danger, $switch-height-large);
}

input[type="checkbox"].ios.brand-info:checked + .track {
    @include ios-checked-track($brand-info, $switch-height-large);
}
input[type="checkbox"].ios.brand-info.checked + .track {
    @include ios-checked-track($brand-info, $switch-height-large);
}
